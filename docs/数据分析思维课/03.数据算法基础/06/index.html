<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="/logo.png" />
    <link rel="stylesheet" href="/blog-base/umi.css" />
    <script>
      window.routerBase = "/blog-base";
    </script>
    <script>
      window.publicPath = window.resourceBaseUrl || "/blog-base/";
    </script>
    <script>
      //! umi version: 3.5.41
    </script>
    <script>
      !(function () {
        var e =
            navigator.cookieEnabled && void 0 !== window.localStorage
              ? localStorage.getItem("dumi:prefers-color")
              : "auto",
          o = window.matchMedia("(prefers-color-scheme: dark)").matches,
          t = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === t[2] ? (o ? t[1] : t[0]) : t.indexOf(e) > -1 ? e : t[0]
        );
      })();
    </script>
    <title>
      17 | 蒙特卡洛与拉斯维加斯：有限时间内如何获得最优解？ - 大师兄
    </title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/数据分析思维课/03.数据算法基础/06" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-base/">大师兄</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span>计算机基础<ul><li><a href="/blog-base/编译原理之美">编译原理之美</a></li><li><a href="/blog-base/编译原理实战">编译原理实战</a></li><li><a href="/blog-base/深入浅出计算机组成原理">深入浅出计算机组成原理</a></li><li><a href="/blog-base/详解http">详解http</a></li><li><a href="/blog-base/计算机网络通关29讲">计算机网络通关29讲</a></li><li><a href="/blog-base/网络排查案例课">网络排查案例课</a></li><li><a href="/blog-base/linux操作系统">linux操作系统</a></li><li><a href="/blog-base/linux内核技术实战课">linux内核技术实战课</a></li><li><a href="/blog-base/linux性能优化实战">linux性能优化实战</a></li><li><a href="/blog-base/程序员数学基础">程序员数学基础</a></li><li><a href="/blog-base/趣谈网络协议">趣谈网络协议</a></li><li><a href="/blog-base/操作系统实战">操作系统实战</a></li><li><a href="/blog-base/软件工程之美">软件工程之美</a></li><li><a href="/blog-base/sql必知必会">sql必知必会</a></li><li><a href="/blog-base/操作系统实战45讲">操作系统实战45讲</a></li><li><a href="/blog-base/网络编程实战">网络编程实战</a></li><li><a href="/blog-base/趣谈linux操作系统">趣谈linux操作系统</a></li></ul></span><span>算法<ul><li><a href="/blog-base/常用算法25讲">常用算法25讲</a></li><li><a href="/blog-base/数据结构与算法之美">数据结构与算法之美</a></li><li><a href="/blog-base/业务开发算法50讲">业务开发算法50讲</a></li><li><a href="/blog-base/动态规划面试宝典">动态规划面试宝典</a></li></ul></span><span>前端开发<ul><li><a href="/blog-base/正则表达式入门">正则表达式入门</a></li></ul></span><span>杂谈<ul><li><a href="/blog-base/代码之丑">代码之丑</a></li><li><a href="/blog-base/代码精进之路">代码精进之路</a></li><li><a aria-current="page" class="active" href="/blog-base/数据分析思维课">数据分析思维课</a></li><li><a href="/blog-base/朱涛kotlin编程第一课">朱涛kotlin编程第一课</a></li><li><a href="/blog-base/重学线性代数">重学线性代数</a></li></ul></span><div class="__dumi-default-navbar-tool"><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "></div></div></div></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-base/"></a><h1>大师兄</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li>计算机基础<ul><li><a href="/blog-base/编译原理之美">编译原理之美</a></li><li><a href="/blog-base/编译原理实战">编译原理实战</a></li><li><a href="/blog-base/深入浅出计算机组成原理">深入浅出计算机组成原理</a></li><li><a href="/blog-base/详解http">详解http</a></li><li><a href="/blog-base/计算机网络通关29讲">计算机网络通关29讲</a></li><li><a href="/blog-base/网络排查案例课">网络排查案例课</a></li><li><a href="/blog-base/linux操作系统">linux操作系统</a></li><li><a href="/blog-base/linux内核技术实战课">linux内核技术实战课</a></li><li><a href="/blog-base/linux性能优化实战">linux性能优化实战</a></li><li><a href="/blog-base/程序员数学基础">程序员数学基础</a></li><li><a href="/blog-base/趣谈网络协议">趣谈网络协议</a></li><li><a href="/blog-base/操作系统实战">操作系统实战</a></li><li><a href="/blog-base/软件工程之美">软件工程之美</a></li><li><a href="/blog-base/sql必知必会">sql必知必会</a></li><li><a href="/blog-base/操作系统实战45讲">操作系统实战45讲</a></li><li><a href="/blog-base/网络编程实战">网络编程实战</a></li><li><a href="/blog-base/趣谈linux操作系统">趣谈linux操作系统</a></li></ul></li><li>算法<ul><li><a href="/blog-base/常用算法25讲">常用算法25讲</a></li><li><a href="/blog-base/数据结构与算法之美">数据结构与算法之美</a></li><li><a href="/blog-base/业务开发算法50讲">业务开发算法50讲</a></li><li><a href="/blog-base/动态规划面试宝典">动态规划面试宝典</a></li></ul></li><li>前端开发<ul><li><a href="/blog-base/正则表达式入门">正则表达式入门</a></li></ul></li><li>杂谈<ul><li><a href="/blog-base/代码之丑">代码之丑</a></li><li><a href="/blog-base/代码精进之路">代码精进之路</a></li><li><a aria-current="page" class="active" href="/blog-base/数据分析思维课">数据分析思维课</a></li><li><a href="/blog-base/朱涛kotlin编程第一课">朱涛kotlin编程第一课</a></li><li><a href="/blog-base/重学线性代数">重学线性代数</a></li></ul></li></ul><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "><button title="Dark theme" class="__dumi-default-dark-moon "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3854" width="22" height="22"><path d="M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z" p-id="3855"></path></svg></button><button title="Light theme" class="__dumi-default-dark-sun "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4026" width="22" height="22"><path d="M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z" p-id="4027"></path></svg></button><button title="Default to system" class="__dumi-default-dark-auto "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11002" width="22" height="22"><path d="M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z" p-id="11003"></path></svg></button></div></div></div><ul class="__dumi-default-menu-list"><li><a href="/blog-base/数据分析思维课">数据分析思维课</a></li><li><a href="/blog-base/数据分析思维课/01.开篇词">01.开篇词</a><ul><li><a href="/blog-base/数据分析思维课/01.开篇词/01"><span>开篇词 | 数据给你一双看透本质的眼睛</span></a></li><li><a href="/blog-base/数据分析思维课/01.开篇词/02"><span>导读 | 万物背后的规律都是数据</span></a></li></ul></li><li><a href="/blog-base/数据分析思维课/02.数据分析基础">02.数据分析基础</a><ul><li><a href="/blog-base/数据分析思维课/02.数据分析基础/01"><span>01 | 平均值：不要被骗了，它不能代表整体水平</span></a></li><li><a href="/blog-base/数据分析思维课/02.数据分析基础/02"><span>02 | 大数定律与小数陷阱：生活是随机还是有定数的？</span></a></li><li><a href="/blog-base/数据分析思维课/02.数据分析基础/03"><span>03 | 数据的期望值：为什么你坐的飞机总是晚点？</span></a></li><li><a href="/blog-base/数据分析思维课/02.数据分析基础/04"><span>04 | 随机对照试验：章鱼保罗真的是“预言帝”么？</span></a></li><li><a href="/blog-base/数据分析思维课/02.数据分析基础/05"><span>05 | 直方图与幂分布：为什么全世界1%的人掌握着50%的财富？</span></a></li><li><a href="/blog-base/数据分析思维课/02.数据分析基础/06"><span>06 | 数据分布：房子应该是买贵的还是买便宜的？</span></a></li><li><a href="/blog-base/数据分析思维课/02.数据分析基础/07"><span>07 |  散点图和相关性：怎样快速从数据当中找到规律？</span></a></li><li><a href="/blog-base/数据分析思维课/02.数据分析基础/08"><span>08 | 标准差：这人是不是“靠谱”其实看标准差？</span></a></li><li><a href="/blog-base/数据分析思维课/02.数据分析基础/09"><span>09 | 数据抽样：大数据来了还需要抽样么？</span></a></li><li><a href="/blog-base/数据分析思维课/02.数据分析基础/10"><span>10 | 指数和KPI：智商是怎么计算出来的？</span></a></li><li><a href="/blog-base/数据分析思维课/02.数据分析基础/11"><span>11 | 因果倒置：星座真的可以判定你的性格吗？</span></a></li></ul></li><li><a aria-current="page" class="active" href="/blog-base/数据分析思维课/03.数据算法基础">03.数据算法基础</a><ul><li><a href="/blog-base/数据分析思维课/03.数据算法基础/01"><span>12 | 精确率与置信区间：两种预测，你究竟应该相信哪一个？</span></a></li><li><a href="/blog-base/数据分析思维课/03.数据算法基础/02"><span>13 | 趋势分析与回归：父母高，孩子一定高么？</span></a></li><li><a href="/blog-base/数据分析思维课/03.数据算法基础/03"><span>14 | 初识聚类算法：物以类聚，让复杂事物简单化</span></a></li><li><a href="/blog-base/数据分析思维课/03.数据算法基础/04"><span>15 | 初识分类算法：分而治之，不断进化</span></a></li><li><a href="/blog-base/数据分析思维课/03.数据算法基础/05"><span>16 | 关联规则：为什么啤酒和尿布一起卖？</span></a></li><li><a aria-current="page" class="active" href="/blog-base/数据分析思维课/03.数据算法基础/06"><span>17 | 蒙特卡洛与拉斯维加斯：有限时间内如何获得最优解？</span></a></li><li><a href="/blog-base/数据分析思维课/03.数据算法基础/07"><span>18 | 马尔可夫链：你的未来，只取决于你当下做什么</span></a></li><li><a href="/blog-base/数据分析思维课/03.数据算法基础/08"><span>19 | 协同过滤：你看到的短视频都是集体智慧的结晶</span></a></li><li><a href="/blog-base/数据分析思维课/03.数据算法基础/09"><span>20 | 人工智能初探：阿尔法狗是怎样的一只“狗”？</span></a></li></ul></li><li><a href="/blog-base/数据分析思维课/04.如何用数据说话">04.如何用数据说话</a><ul><li><a href="/blog-base/数据分析思维课/04.如何用数据说话/01"><span>21 |  确定问题：与利益无关的问题都不值得数据分析和挖掘</span></a></li><li><a href="/blog-base/数据分析思维课/04.如何用数据说话/02"><span>22 | 采集数据：用好一手数据和二手数据</span></a></li><li><a href="/blog-base/数据分析思维课/04.如何用数据说话/03"><span>23 | 写好故事线：你能用好数字推翻众人的理解吗？</span></a></li><li><a href="/blog-base/数据分析思维课/04.如何用数据说话/04"><span>24 | 实践你的理论：数据驱动最终就是用结果说话</span></a></li><li><a href="/blog-base/数据分析思维课/04.如何用数据说话/05"><span>25 |  数据分析：15种数据思维图（上）</span></a></li><li><a href="/blog-base/数据分析思维课/04.如何用数据说话/06"><span>26 |  数据分析：15种数据思维图（下）</span></a></li></ul></li><li><a href="/blog-base/数据分析思维课/05.分析工具">05.分析工具</a><ul><li><a href="/blog-base/数据分析思维课/05.分析工具/01"><span>27 |  我常用的数据分析工具图谱</span></a></li><li><a href="/blog-base/数据分析思维课/05.分析工具/02"><span>28 | 让你数据分析瞬间提效的18个基础功法（上）</span></a></li><li><a href="/blog-base/数据分析思维课/05.分析工具/03"><span>29 | 让你数据分析瞬间提效的18个基础功法（下）</span></a></li><li><a href="/blog-base/数据分析思维课/05.分析工具/04"><span>30 | 快速实现数据分析基础课中的分析模型</span></a></li><li><a href="/blog-base/数据分析思维课/05.分析工具/05"><span>31 |  最先进的数据分析工具展望</span></a></li></ul></li><li><a href="/blog-base/数据分析思维课/06.结束语">06.结束语</a><ul><li><a href="/blog-base/数据分析思维课/06.结束语/01"><span>结束语 | 我们不是神：数据分析既是天使也是魔鬼</span></a></li><li><a href="/blog-base/数据分析思维课/06.结束语/02"><span>期末测试｜来赴一场满分之约！</span></a></li></ul></li><li><a href="/blog-base/数据分析思维课/07.特别放送">07.特别放送</a><ul><li><a href="/blog-base/数据分析思维课/07.特别放送/01"><span>编辑手记 | 让生活多一些科学，少一些神学</span></a></li><li><a href="/blog-base/数据分析思维课/07.特别放送/02"><span>中秋放送 | 数据分析基础回顾</span></a></li><li><a href="/blog-base/数据分析思维课/07.特别放送/03"><span>中秋放送 | 数据算法基础回顾</span></a></li><li><a href="/blog-base/数据分析思维课/07.特别放送/04"><span>国庆放送 | 书单推荐</span></a></li><li><a href="/blog-base/数据分析思维课/07.特别放送/05"><span>加餐 | 升级头脑，用数据思维点亮生活</span></a></li></ul></li><li><a href="/blog-base/数据分析思维课/summary">数据分析思维课</a></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="算法定义和场景" data-depth="2"><a href="/blog-base/数据分析思维课/03.数据算法基础/06#算法定义和场景"><span>算法定义和场景</span></a></li><li title="蒙特卡洛和拉斯维加斯算法举例" data-depth="2"><a href="/blog-base/数据分析思维课/03.数据算法基础/06#蒙特卡洛和拉斯维加斯算法举例"><span>蒙特卡洛和拉斯维加斯算法举例</span></a></li><li title="算法应用场景与展望" data-depth="2"><a href="/blog-base/数据分析思维课/03.数据算法基础/06#算法应用场景与展望"><span>算法应用场景与展望</span></a></li><li title="小结" data-depth="2"><a href="/blog-base/数据分析思维课/03.数据算法基础/06#小结"><span>小结</span></a></li><li title="课后思考" data-depth="2"><a href="/blog-base/数据分析思维课/03.数据算法基础/06#课后思考"><span>课后思考</span></a></li><li title="附录：多边形推导圆周率" data-depth="2"><a href="/blog-base/数据分析思维课/03.数据算法基础/06#附录多边形推导圆周率"><span>附录：多边形推导圆周率</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="17--蒙特卡洛与拉斯维加斯有限时间内如何获得最优解"><a aria-hidden="true" tabindex="-1" href="/blog-base/数据分析思维课/03.数据算法基础/06#17--蒙特卡洛与拉斯维加斯有限时间内如何获得最优解"><span class="icon icon-link"></span></a>17 | 蒙特卡洛与拉斯维加斯：有限时间内如何获得最优解？</h1><p>数据给你一双看透本质的眼睛，这里是《数据分析思维课》，我是郭炜。</p><p>前面给你讲了回归、分类、聚类、关联等一些基础算法，其实如果有足够的时间和计算资源，我们其实能通过这些基础算法做出很多特别精确的预测和分析。</p><p>但实际我们在现实工作和生活中，没那么多的资源和时间来得到最佳的结果。那么在有限时间里，怎么样才能够获得比较好的计算答案，或者有没有好的办法能够在比较短的时间求得正确的答案呢？今天我就给你分享两个比较有代表性的算法：蒙特卡洛算法和拉斯维加斯算法。</p><h2 id="算法定义和场景"><a aria-hidden="true" tabindex="-1" href="/blog-base/数据分析思维课/03.数据算法基础/06#算法定义和场景"><span class="icon icon-link"></span></a>算法定义和场景</h2><p>这两个算法的目标都是利用随机的方法来简化整体的算法过程，解决一些看上去我们没有办法通过正常算法解决的实际问题。</p><p>先给你讲讲蒙特卡罗算法，这个算法是在20世纪40年代，由S.M.乌拉姆和J.冯·诺伊曼首先提出来（对，就是那个世界上最早的通用电子计算机ENIAC创作者冯·诺伊曼）。</p><p>这个算法的名字由来其实很随意。那个时候，正值美国在第二次世界大战，乌拉姆和诺伊曼都是“曼哈顿计划”（美国原子弹计划）计划的成员，而第一台电子计算机ENIAC在发明后就被用于“曼哈顿计划”。在参与这个计划过程中，乌拉姆想到在计算机强大计算能力的帮助下，可以通过重复数百次模拟核实验的方式来对核裂变的各种概率变量进行演算，而不用实际进行那么多次实验。</p><p>冯·诺伊曼立即认识到这个想法的重要性并给予乌拉姆充分的支持，乌拉姆将这种统计方法用于计算核裂变的连锁反应，大大加快了这个项目的节奏。由于乌拉姆常说他叔叔在摩纳哥的赌城“Monte Carlo”输钱，他的同事Nicolas Metropolis戏称该方法为“蒙特卡罗”，这个名字也就沿用到了现在。</p><p>蒙特卡罗算法原理其实很简单，就是每次计算都尽量尝试找更好的结果路径，但不保证是最好的结果路径。用这样寻找结果的方法，无论何时都会有结果出来，而且给的时间越多、尝试越多，最终会越近似最优解。</p><p>举个例子，我们现在要用蒙特卡洛算法找到一个有500个苹果的筐里，最大的苹果。正常来讲，我们每次从筐中拿一个苹果A， 然后下一次再随机从筐中拿出另一个苹果B， 如果B比A大的话，就把A扔到另一个筐里，手里只拿着B。这样如果我们拿了500次的话，最后留在手里的一定是最大的那个苹果。</p><p>但如果我们的时间和资源不够拿500次苹果呢？</p><p>我们就可以用蒙特卡洛算法，无论我们选择多少次，每次手里依然保留比较大的苹果，直到资源不够让我们截止的时候，留在我们手上的苹果也是我们力所能及接近最大的。也就是说我们持续保留较好的答案，一直执行N次（N&lt;500），最终拿到的一定近似正确解。**N越接近500，我们的苹果越接近最大的那个。**其实蒙特卡洛方法的理论基础就是我们前面讲过的<a target="_blank" rel="noopener noreferrer" href="https://time.geekbang.org/column/article/401316">大数定律<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。根据这个定律我们知道当随机事件发生的次数足够多时，发生的频率就会趋近于预期的概率。</p><p>和蒙特卡罗算法截然相反的另一种算法就是拉斯维加斯算法，它是在1979年<a target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/L%C3%A1szl%C3%B3_Babai">László Babai<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>在解决图同构问题的时候，针对蒙特卡罗算法弊病提出的。拉斯维加斯算法原理也很简单，就是<strong>每次计算都尝试找到最好的答案，但不保证这次计算就能找到最好的答案，尝试次数越多，越有机会找到最优解。</strong></p><p>举个例子，假如有一把锁，给我100把钥匙，其中只有1把钥匙可以开锁。于是我每次随机抽1把钥匙去试，打不开就再换1把。我尝试的次数越多，打开锁的机会就越大。但在打开之前，那些错的钥匙都是没有用的。这个挨个尝试换钥匙开锁的算法，就是拉斯维加斯算法。</p><p>准确来讲，蒙特卡罗算法和拉斯维加斯算法其实并不是两种算法，而是两类算法的统称。</p><p>蒙特卡罗算法的基本思想是精益迭代，进行多次求解，最终让最后结果成为正确结果的可能性变高。而拉斯维加斯的算法是不断进行尝试，直到某次尝试结果让你自己满意，当然这个过程中也会一直产生你无法满意的随机值。</p><p>所以拉斯维加斯的算法效率通常比蒙特卡罗的算法低，但是最终得出的解一定是这个问题的正确解，当然也有可能无法得到问题的解。这两个算法之间的差别你可以通过下面的这个图表来进行区分。</p><p><img src="/blog-base/static/httpsstatic001geekbangorgresourceimage21852198b0209d69be129d39e4a63489e185.fbeee3ef.jpg" alt=""/></p><h2 id="蒙特卡洛和拉斯维加斯算法举例"><a aria-hidden="true" tabindex="-1" href="/blog-base/数据分析思维课/03.数据算法基础/06#蒙特卡洛和拉斯维加斯算法举例"><span class="icon icon-link"></span></a>蒙特卡洛和拉斯维加斯算法举例</h2><p>刚刚从概念上带你了解了蒙特卡罗算法和拉斯维加斯算法，下面我实际给你举两个具体的例子来看看这两个算法的进一步运用。</p><p>首先我们来看看利用蒙特卡罗算法计算圆周率。</p><p>圆周率是通过n个多边形周长来推导计算出来的（可以参考附录），不过我们通过蒙特卡罗算法，也可以把圆周率计算出来。</p><p><strong>首先，我们构造一个正方形，里面套一个内切圆。</strong></p><p><strong>然后，我们在这个正方形的内部随机打上1万个点。</strong></p><p>**最后，根据它到中心点的距离来判断这个点是否落在圆的内部。**这个落在圆内部的概率其实和这个圆与正方形之间的面积有一个比例关系。也就是假设落在圆内的概率为P，则P=圆面积/正方形面积。<code>P=(π*R*R)/(2R*2R)= π/4</code>也就是 π=4P。</p><p>如果我们的这些点是足够均匀分布的，那么圆内的点应该占到整个正方形里面点的π/4，所以只要把这个概率P乘以4就是π的值。</p><p><img src="/blog-base/static/httpsstatic001geekbangorgresourceimagec870c8a31eba918409a37bdb9f1c2ebe2970.dd474cd7.png" alt=""/></p><p>具体步骤如下。</p><p>1.将圆心设在原点，以R为半径作圆，则第一象限的1/4圆面积为<code>π*R*R/4</code>；</p><p>2.做该1/4圆的外接正方形，坐标为（0，0）（0，R）（R，0）（R，R），则该正方形面积为R*R；</p><p>3.随机取点（X，Y），使得0&lt;=X&lt;=R并且0&lt;=Y&lt;=R，即点在正方形内；</p><p>4.通过公式 <code>X*X+Y*Y&lt;RR</code>判断点是否在圆内；</p><p>5.最后一共模拟了N次试验，一共有M个点在圆内，则P=M/N，而π=4*M/N。</p><p>这个N就是蒙特卡洛算法的特点，N越大，越接近π的真实值，但是你可以设置任何一个时刻停下来都会有一个接近正确答案的值。我在一个平台上用这个算法进行计算，发现如果N是1万个点的话，它的结果是3.1424。是不是很神奇？我们并没有通过数学推导的方式，而是通过一个随机变量的方式来计算出我们的结果。如果你要提高精确度，我们可以打上更多个点，那么它最终会越来越接近π真实值。</p><p>而拉斯维加斯算法就不一样了，它是针对一个确定性的答案去不断进行随机尝试，我再给你举一个国际象棋里“摆皇后”的例子。</p><p>我们的目标是在一个N*N国际象棋棋盘里摆下N个皇后，让她们相互不会被吃掉。例如，下面这个图我们就摆了8个皇后在标准的8×8的国际象棋棋盘中，在这棋盘里，她们可以不相互伤害，和平共处。</p><p><img src="data:image/png;base64,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" alt=""/></p><p>这个摆法我们是怎么摆出来的呢？</p><p>一般解法是先在最左边（1,1）摆上第1个皇后，然后再把第2个摆放到第一个不被吃的位置（2,3），再把第3个摆进去不被吃的位置……这样一直延续下去，直到无论下一个皇后摆在哪都会被吃掉的时候，证明上面几个皇后摆放的位置不对。那么你就要去挪上一个皇后的位置，如果还不行还得再挪上上个皇后，然后再摆下一个皇后。</p><p>这样不停尝试下去，才能把N个皇后都摆进这个N*N的格子里。可以想象，这个算法毛病就在于你得不停地去做尝试。这个算法的代价就很大，经过数学的<a target="_blank" rel="noopener noreferrer" href="https://sites.google.com/site/nqueensolver/home/algorithm-results">推理<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，找到最终解决方案的尝试次数，数量级在N的N次方。这样如果当皇后数超过15个的时候，这个数字就会达到437893830380853000次——基本上现在普通电脑的计算能力短时间内就计算不出来了。</p><p>怎么解决这个问题呢？我们首先看前面小规模<code>的8*8</code>、<code>10*10</code>棋盘里，皇后在棋盘上摆的正确位置，其实并没有什么规律可言，就像随机放在上面的。于是我们就可以想象一下，如果用拉斯维加斯算法把皇后类似于随机地摆放在棋盘上，然后在用前面的算法进行调整，是不是就会比我们一个一个放速度要快呢？也就是说我们**先利用拉斯维加斯算法在前面若干行随机摆放皇后，后面的行再利用前面传统的算法去完成。**实际结果证明可以节约很多计算的时间和资源。</p><p>一旦用拉斯维加斯算法找到一个解，这个解就一定是正确解，但有时用拉斯维加斯算法找不到解。拉斯维加斯算法找到正确解的概率随着它所用的计算时间的增加而提高，那么，对于某一个难题来说，如果你用同一拉斯维加斯算法反复尝试足够多次，可使求解失败的概率任意小，最终还可以获得正确解答。</p><p>通过这个算圆周率和“摆皇后”的例子，不知道你对这两个算法各自的优点有没有进一步的认识呢？</p><h2 id="算法应用场景与展望"><a aria-hidden="true" tabindex="-1" href="/blog-base/数据分析思维课/03.数据算法基础/06#算法应用场景与展望"><span class="icon icon-link"></span></a>算法应用场景与展望</h2><p>现在，蒙特拉罗和拉斯维加斯算法在金融工业和人工智能领域都有很广泛的应用。特别是蒙特卡罗算法，在当今社会有各种各样不确定性的情况下，它给我们提供了很多解决方案。</p><p>比如金融市场本身充满了确定性和不确定性，就非常符合蒙特卡洛面对数字化变量的确定性和随机性这两种特征。使用蒙特卡洛算法利用尽可能多的模型采样，就可以寻求近似最优解。所以在金融领域里，蒙特卡洛算法得到非常广泛的应用。</p><ul><li><strong>计算风险价值</strong>（value at risk，VaR）：VaR试图以一个明确的数值来对投资组合进行风险评估，在计算这个价值的时候就会经常用到蒙特卡洛方法去模拟各种各样的市场的变化，从而得到最终近似最优的风险价值。</li><li><strong>自动化交易</strong>：股票和期货之中利用蒙特卡洛算法的双均线系统，模拟各种买进、卖出以及其他操作，最终得出一个近似最好的执行方案。经过测试，这样做可以比正常的双均线系统自动化交易要高10%-30%。</li><li><strong>衍生品定价</strong>：针对市场上发生的各种各样的情况对衍生品的价格进行模拟，最终也可以将特别复杂的衍生品价格计算出来。</li></ul><p>在人工智能领域，蒙特卡洛也必不可少。现在人工智能领域里为了简化复杂的计算而产生了一个很重要的算法叫做蒙特卡洛树。以现在特别火的人工智能下棋的算法来讲，基本思路是每一步AI去判断的下一步的运算时间、内存空间都是有限的，而且不能要求最优解，所以阿尔法狗和类似的AI下棋算法，一定会利用蒙特卡洛方法来简化其中的步骤，获得相对最优下棋的方法。毫无疑问，蒙特卡洛算法会是这个场景下的核心算法之一。</p><p>如何在这两类随机算法之间选择，那就要具体问题具体分析了。<strong>如果问题要求在有限时间和尝试次数内必须给出一个解，但不要求是最优解，那就用蒙特卡罗算法。反之，如果问题要求必须给出最优解，但对时间和尝试次数没有限制，那就用拉斯维加斯算法。</strong></p><p>把这两种算法对应到工作和生活中，对拉斯维加斯算法来说，有些事情我们是需要精益求精，无论花多少时间都得把这件事情做细致做准确，否则后果可能会非常严重；有些地方反而是需要蒙特卡洛算法，在事情有大概比较清晰的方案的时候，要快速决策，否则如果把时间耽误了，反而最后获得的结果会更糟。</p><p>给你举个具体的例子，现在在工作上有一种创业方法叫做“精益”创业，其实核心思想就是和蒙特卡洛算法类似：在有限的时间和有限的资源情况下，不要一直思考或者规划找到“最优解”，而是通过快速迭代原型产品，通过用户的反馈不断地修正自己产品的方案，以达到在有限的时间和有限的资源情况下得到较为不错的结果。</p><p>虽然这个结果不一定是最优的，但是总比使用拉斯维加斯算法创业，闷在家里闭门造车寻找最优解，直到耗尽了资源和时间要好。</p><h2 id="小结"><a aria-hidden="true" tabindex="-1" href="/blog-base/数据分析思维课/03.数据算法基础/06#小结"><span class="icon icon-link"></span></a>小结</h2><p>总结一下，今天主要给你讲了两个算法：蒙特卡洛算法和拉斯维加斯算法。</p><p>蒙特卡洛算法是我们一直去努力，努力到自己满意了就可以停下来；而拉斯维加斯算法就要一直去努力，如果找不到最佳答案就誓不罢休。这两个算法其实是两类算法集合，代表着两种不同处理事情的思路。</p><p>我们要根据自己手里的资源、时间，灵活选择是使用蒙特卡罗式的方法还是拉斯维加斯式的方法来处理事情，毕竟人的一生时间和精力都是有限的。</p><p>我们每天都会面临到各种各样的问题，学完这节课后，你可以仔细思考一下你现在手里哪些事情不达目的誓不罢休（拉斯维加斯式算法）；哪些事情需要精益的方法和思路，多次尝试不断修正，事情发展到一定程度见好就收（蒙特卡洛式算法）。</p><p>对于管理企业来说，我们要高维度思考，不要把我们的有限的时间和精力浪费在不必要的事情上，整体的做事思路是抓大放小。而重要的事情要用拉斯维加斯算法一通到底，任何细节都不要放过，确保随机事件的正确性。</p><p>一次次不同的决策，决定了每一个企业成功和失败。同样，一次次我们自己不同的决策，也决定了我们别具特色的人生。</p><p>数据给你一双看透本质的眼睛，针对具体的场景问题选择好具体的算法解决方式，把我们有限的时间和精力投入到真正要做的事情当中。</p><h2 id="课后思考"><a aria-hidden="true" tabindex="-1" href="/blog-base/数据分析思维课/03.数据算法基础/06#课后思考"><span class="icon icon-link"></span></a>课后思考</h2><p>你在工作和生活当中用过蒙特卡洛和拉斯维加斯算法的思路来解决问题么？分享出来，我们大家相互启发。</p><h2 id="附录多边形推导圆周率"><a aria-hidden="true" tabindex="-1" href="/blog-base/数据分析思维课/03.数据算法基础/06#附录多边形推导圆周率"><span class="icon icon-link"></span></a>附录：多边形推导圆周率</h2><p>π数值的算法最早是公元前250年由希腊数学家阿基米德所发明，算法逻辑很简单，也就是在圆内接和外切套入两个多边形。理论上，圆的周长在这两个多边形之间，多边形的周长我们有公式计算，圆的半径已知，多边形的边长就已知。那么只要把这个多边形的边数增加越多，那么多边形的周长也就越来越接近圆的周长，反推出来的π也就越精确。</p><p><img src="/blog-base/static/httpsstatic001geekbangorgresourceimaged980d9d119961fba8090b394yy7eca91a180.027d1882.png" alt=""/></p><p>阿基米德利用96边形推算出来的π值在3.1408和3.1429之间，在公元前150年，希腊罗马的科学家克劳狄乌斯·托勒密在《天文学大成》一书中提到π的数值是3.1416。在1630年多名数学家利用多边形的方式计算π到第39位小数，一直到1699年，其他数学家才利用无穷级数的方式打破其纪录，计算到第71位小数。多边形计算法是第一个有纪录、严谨计算π数值的算法。</p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/GGwujun/blog/edit/master/ssrc/数据分析思维课/03.数据算法基础/06.md">在 GitHub 上编辑此页<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="最后更新时间：">2023/9/23 20:27:01</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script>
      (function () {
        if (!location.port) {
          (function (i, s, o, g, r, a, m) {
            i["GoogleAnalyticsObject"] = r;
            (i[r] =
              i[r] ||
              function () {
                (i[r].q = i[r].q || []).push(arguments);
              }),
              (i[r].l = 1 * new Date());
            (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m);
          })(
            window,
            document,
            "script",
            "//www.google-analytics.com/analytics.js",
            "ga"
          );
          ga("create", "UA-149864185-1", "auto");
          ga("send", "pageview");
        }
      })();
    </script>
    <script src="/blog-base/umi.js"></script>
  </body>
</html>
