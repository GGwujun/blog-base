<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="/logo.png" />
    <link rel="stylesheet" href="/blog-base/umi.css" />
    <script>
      window.routerBase = "/blog-base";
    </script>
    <script>
      //! umi version: 3.5.41
    </script>
    <script>
      !(function () {
        var e =
            navigator.cookieEnabled && void 0 !== window.localStorage
              ? localStorage.getItem("dumi:prefers-color")
              : "auto",
          o = window.matchMedia("(prefers-color-scheme: dark)").matches,
          t = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === t[2] ? (o ? t[1] : t[0]) : t.indexOf(e) > -1 ? e : t[0]
        );
      })();
    </script>
    <title>04丨使用DDL创建数据库&amp;数据表时需要注意什么？ - 大师兄</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/sql必知必会/02.第一章sql语法基础篇/04" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-base/">大师兄</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span>计算机基础<ul><li><a href="/blog-base/编译原理之美">编译原理之美</a></li><li><a href="/blog-base/编译原理实战">编译原理实战</a></li><li><a href="/blog-base/深入浅出计算机组成原理">深入浅出计算机组成原理</a></li><li><a href="/blog-base/详解http">详解http</a></li><li><a href="/blog-base/计算机网络通关29讲">计算机网络通关29讲</a></li><li><a href="/blog-base/网络排查案例课">网络排查案例课</a></li><li><a href="/blog-base/linux操作系统">linux操作系统</a></li><li><a href="/blog-base/linux内核技术实战课">linux内核技术实战课</a></li><li><a href="/blog-base/linux性能优化实战">linux性能优化实战</a></li><li><a href="/blog-base/程序员数学基础">程序员数学基础</a></li><li><a href="/blog-base/趣谈网络协议">趣谈网络协议</a></li><li><a href="/blog-base/操作系统实战">操作系统实战</a></li><li><a href="/blog-base/软件工程之美">软件工程之美</a></li><li><a aria-current="page" class="active" href="/blog-base/sql必知必会">sql必知必会</a></li><li><a href="/blog-base/操作系统实战45讲">操作系统实战45讲</a></li><li><a href="/blog-base/网络编程实战">网络编程实战</a></li><li><a href="/blog-base/趣谈linux操作系统">趣谈linux操作系统</a></li></ul></span><span>算法<ul><li><a href="/blog-base/常用算法25讲">常用算法25讲</a></li><li><a href="/blog-base/数据结构与算法之美">数据结构与算法之美</a></li><li><a href="/blog-base/业务开发算法50讲">业务开发算法50讲</a></li><li><a href="/blog-base/动态规划面试宝典">动态规划面试宝典</a></li></ul></span><span>前端开发<ul><li><a href="/blog-base/正则表达式入门">正则表达式入门</a></li></ul></span><span>前端工程化</span><span>前端性能优化</span><span>移动端开发</span><span>软件测试</span><span>产品与用户体验</span><span>面试</span><span>杂谈<ul><li><a href="/blog-base/代码之丑">代码之丑</a></li><li><a href="/blog-base/代码精进之路">代码精进之路</a></li><li><a href="/blog-base/数据分析思维课">数据分析思维课</a></li><li><a href="/blog-base/朱涛kotlin编程第一课">朱涛kotlin编程第一课</a></li><li><a href="/blog-base/重学线性代数">重学线性代数</a></li></ul></span><div class="__dumi-default-navbar-tool"><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "></div></div></div></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-base/"></a><h1>大师兄</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li>计算机基础<ul><li><a href="/blog-base/编译原理之美">编译原理之美</a></li><li><a href="/blog-base/编译原理实战">编译原理实战</a></li><li><a href="/blog-base/深入浅出计算机组成原理">深入浅出计算机组成原理</a></li><li><a href="/blog-base/详解http">详解http</a></li><li><a href="/blog-base/计算机网络通关29讲">计算机网络通关29讲</a></li><li><a href="/blog-base/网络排查案例课">网络排查案例课</a></li><li><a href="/blog-base/linux操作系统">linux操作系统</a></li><li><a href="/blog-base/linux内核技术实战课">linux内核技术实战课</a></li><li><a href="/blog-base/linux性能优化实战">linux性能优化实战</a></li><li><a href="/blog-base/程序员数学基础">程序员数学基础</a></li><li><a href="/blog-base/趣谈网络协议">趣谈网络协议</a></li><li><a href="/blog-base/操作系统实战">操作系统实战</a></li><li><a href="/blog-base/软件工程之美">软件工程之美</a></li><li><a aria-current="page" class="active" href="/blog-base/sql必知必会">sql必知必会</a></li><li><a href="/blog-base/操作系统实战45讲">操作系统实战45讲</a></li><li><a href="/blog-base/网络编程实战">网络编程实战</a></li><li><a href="/blog-base/趣谈linux操作系统">趣谈linux操作系统</a></li></ul></li><li>算法<ul><li><a href="/blog-base/常用算法25讲">常用算法25讲</a></li><li><a href="/blog-base/数据结构与算法之美">数据结构与算法之美</a></li><li><a href="/blog-base/业务开发算法50讲">业务开发算法50讲</a></li><li><a href="/blog-base/动态规划面试宝典">动态规划面试宝典</a></li></ul></li><li>前端开发<ul><li><a href="/blog-base/正则表达式入门">正则表达式入门</a></li></ul></li><li>前端工程化</li><li>前端性能优化</li><li>移动端开发</li><li>软件测试</li><li>产品与用户体验</li><li>面试</li><li>杂谈<ul><li><a href="/blog-base/代码之丑">代码之丑</a></li><li><a href="/blog-base/代码精进之路">代码精进之路</a></li><li><a href="/blog-base/数据分析思维课">数据分析思维课</a></li><li><a href="/blog-base/朱涛kotlin编程第一课">朱涛kotlin编程第一课</a></li><li><a href="/blog-base/重学线性代数">重学线性代数</a></li></ul></li></ul><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "><button title="Dark theme" class="__dumi-default-dark-moon "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3854" width="22" height="22"><path d="M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z" p-id="3855"></path></svg></button><button title="Light theme" class="__dumi-default-dark-sun "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4026" width="22" height="22"><path d="M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z" p-id="4027"></path></svg></button><button title="Default to system" class="__dumi-default-dark-auto "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11002" width="22" height="22"><path d="M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z" p-id="11003"></path></svg></button></div></div></div><ul class="__dumi-default-menu-list"><li><a href="/blog-base/sql必知必会">sql必知必会</a></li><li><a href="/blog-base/sql必知必会/01.开篇词">01.开篇词</a><ul><li><a href="/blog-base/sql必知必会/01.开篇词/01"><span>开篇词丨SQL可能是你掌握的最有用的技能</span></a></li></ul></li><li><a aria-current="page" class="active" href="/blog-base/sql必知必会/02.第一章sql语法基础篇">02.第一章SQL语法基础篇</a><ul><li><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/01"><span>01丨了解SQL：一门半衰期很长的语言</span></a></li><li><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/02"><span>02丨DBMS的前世今生</span></a></li><li><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/03"><span>03丨学会用数据库的方式思考SQL是如何执行的</span></a></li><li><a aria-current="page" class="active" href="/blog-base/sql必知必会/02.第一章sql语法基础篇/04"><span>04丨使用DDL创建数据库&amp;数据表时需要注意什么？</span></a></li><li><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/05"><span>05丨检索数据：你还在SELECT * 么？</span></a></li><li><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/06"><span>06丨数据过滤：SQL数据过滤都有哪些方法？</span></a></li><li><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/07"><span>07丨什么是SQL函数？为什么使用SQL函数可能会带来问题？</span></a></li><li><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/08"><span>08丨什么是SQL的聚集函数，如何利用它们汇总表的数据？</span></a></li><li><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/09"><span>09丨子查询：子查询的种类都有哪些，如何提高子查询的性能？</span></a></li><li><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/10"><span>10丨常用的SQL标准有哪些，在SQL92中是如何使用连接的？</span></a></li><li><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/11"><span>11丨SQL99是如何使用连接的，与SQL92的区别是什么？</span></a></li><li><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/12"><span>12丨视图在SQL中的作用是什么，它是怎样工作的？</span></a></li><li><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/13"><span>13丨什么是存储过程，在实际项目中用得多么？</span></a></li><li><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/14"><span>14丨什么是事务处理，如何使用COMMIT和ROLLBACK进行操作？</span></a></li><li><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/15"><span>15丨初识事务隔离：隔离的级别有哪些，它们都解决了哪些异常问题？</span></a></li><li><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/16"><span>16丨游标：当我们需要逐条处理数据时，该怎么做？</span></a></li><li><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/17"><span>17丨如何使用Python操作MySQL？</span></a></li><li><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/18"><span>18丨SQLAlchemy：如何使用Python ORM框架来操作MySQL？</span></a></li><li><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/19"><span>19丨基础篇总结：如何理解查询优化、通配符以及存储过程？</span></a></li></ul></li><li><a href="/blog-base/sql必知必会/03.第二章sql性能优化篇">03.第二章SQL性能优化篇</a><ul><li><a href="/blog-base/sql必知必会/03.第二章sql性能优化篇/01"><span>20丨当我们思考数据库调优的时候，都有哪些维度可以选择？</span></a></li><li><a href="/blog-base/sql必知必会/03.第二章sql性能优化篇/02"><span>21丨范式设计：数据表的范式有哪些，3NF指的是什么？</span></a></li><li><a href="/blog-base/sql必知必会/03.第二章sql性能优化篇/03"><span>22丨反范式设计：3NF有什么不足，为什么有时候需要反范式设计？</span></a></li><li><a href="/blog-base/sql必知必会/03.第二章sql性能优化篇/04"><span>23丨索引的概览：用还是不用索引，这是一个问题</span></a></li><li><a href="/blog-base/sql必知必会/03.第二章sql性能优化篇/05"><span>24丨索引的原理：我们为什么用B+树来做索引？</span></a></li><li><a href="/blog-base/sql必知必会/03.第二章sql性能优化篇/06"><span>25丨Hash索引的底层原理是什么？</span></a></li><li><a href="/blog-base/sql必知必会/03.第二章sql性能优化篇/07"><span>26丨索引的使用原则：如何通过索引让SQL查询效率最大化？</span></a></li><li><a href="/blog-base/sql必知必会/03.第二章sql性能优化篇/08"><span>27丨从数据页的角度理解B+树查询</span></a></li><li><a href="/blog-base/sql必知必会/03.第二章sql性能优化篇/09"><span>28丨从磁盘I/O的角度理解SQL查询的成本</span></a></li><li><a href="/blog-base/sql必知必会/03.第二章sql性能优化篇/10"><span>29丨为什么没有理想的索引？</span></a></li><li><a href="/blog-base/sql必知必会/03.第二章sql性能优化篇/11"><span>30丨锁：悲观锁和乐观锁是什么？</span></a></li><li><a href="/blog-base/sql必知必会/03.第二章sql性能优化篇/12"><span>31丨为什么大部分RDBMS都会支持MVCC？</span></a></li><li><a href="/blog-base/sql必知必会/03.第二章sql性能优化篇/13"><span>32丨查询优化器是如何工作的？</span></a></li><li><a href="/blog-base/sql必知必会/03.第二章sql性能优化篇/14"><span>33丨如何使用性能分析工具定位SQL执行慢的原因？</span></a></li><li><a href="/blog-base/sql必知必会/03.第二章sql性能优化篇/15"><span>34丨答疑篇：关于索引以及缓冲池的一些解惑</span></a></li><li><a href="/blog-base/sql必知必会/03.第二章sql性能优化篇/16"><span>35丨数据库主从同步的作用是什么，如何解决数据不一致问题？</span></a></li><li><a href="/blog-base/sql必知必会/03.第二章sql性能优化篇/17"><span>36丨数据库没有备份，没有使用Binlog的情况下，如何恢复数据？</span></a></li><li><a href="/blog-base/sql必知必会/03.第二章sql性能优化篇/18"><span>37丨SQL注入：你的SQL是如何被注入的？</span></a></li></ul></li><li><a href="/blog-base/sql必知必会/04.第三章认识dbms">04.第三章认识DBMS</a><ul><li><a href="/blog-base/sql必知必会/04.第三章认识dbms/01"><span>38丨如何在Excel中使用SQL语言？</span></a></li><li><a href="/blog-base/sql必知必会/04.第三章认识dbms/02"><span>39丨WebSQL：如何在H5中存储一个本地数据库？</span></a></li><li><a href="/blog-base/sql必知必会/04.第三章认识dbms/03"><span>40丨SQLite：为什么微信用SQLite存储聊天记录？</span></a></li><li><a href="/blog-base/sql必知必会/04.第三章认识dbms/04"><span>41丨初识Redis：Redis为什么会这么快？</span></a></li><li><a href="/blog-base/sql必知必会/04.第三章认识dbms/05"><span>42丨如何使用Redis来实现多用户抢票问题</span></a></li><li><a href="/blog-base/sql必知必会/04.第三章认识dbms/06"><span>43丨如何使用Redis搭建玩家排行榜？</span></a></li><li><a href="/blog-base/sql必知必会/04.第三章认识dbms/07"><span>44丨DBMS篇总结和答疑：用SQLite做词云</span></a></li></ul></li><li><a href="/blog-base/sql必知必会/05.第四章sql项目实战">05.第四章SQL项目实战</a><ul><li><a href="/blog-base/sql必知必会/05.第四章sql项目实战/01"><span>45丨数据清洗：如何使用SQL对数据进行清洗？</span></a></li><li><a href="/blog-base/sql必知必会/05.第四章sql项目实战/02"><span>46丨数据集成：如何对各种数据库进行集成和转换？</span></a></li><li><a href="/blog-base/sql必知必会/05.第四章sql项目实战/03"><span>47丨如何利用SQL对零售数据进行分析？</span></a></li></ul></li><li><a href="/blog-base/sql必知必会/06.结束语">06.结束语</a><ul><li><a href="/blog-base/sql必知必会/06.结束语/01"><span>结束语 | 互联网的下半场是数据驱动的时代</span></a></li></ul></li><li><a href="/blog-base/sql必知必会/07.期末考试">07.期末考试</a><ul><li><a href="/blog-base/sql必知必会/07.期末考试/01"><span>期末测试丨对于SQL的有关内容，你掌握了多少呢？</span></a></li></ul></li><li><a href="/blog-base/sql必知必会/summary">sql必知必会</a></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="DDL的基础语法及设计工具" data-depth="2"><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/04#ddl的基础语法及设计工具"><span>DDL的基础语法及设计工具</span></a></li><li title="创建表结构" data-depth="3"><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/04#创建表结构"><span>创建表结构</span></a></li><li title="修改表结构" data-depth="3"><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/04#修改表结构"><span>修改表结构</span></a></li><li title="数据表的常见约束" data-depth="2"><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/04#数据表的常见约束"><span>数据表的常见约束</span></a></li><li title="设计数据表的原则" data-depth="2"><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/04#设计数据表的原则"><span>设计数据表的原则</span></a></li><li title="总结" data-depth="2"><a href="/blog-base/sql必知必会/02.第一章sql语法基础篇/04#总结"><span>总结</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="04丨使用ddl创建数据库数据表时需要注意什么"><a aria-hidden="true" tabindex="-1" href="/blog-base/sql必知必会/02.第一章sql语法基础篇/04#04丨使用ddl创建数据库数据表时需要注意什么"><span class="icon icon-link"></span></a>04丨使用DDL创建数据库&amp;数据表时需要注意什么？</h1><p>DDL是DBMS的核心组件，也是SQL的重要组成部分，DDL的正确性和稳定性是整个SQL运行的重要基础。面对同一个需求，不同的开发人员创建出来的数据库和数据表可能千差万别，那么在设计数据库的时候，究竟什么是好的原则？我们在创建数据表的时候需要注意什么？</p><p>今天的内容，你可以从以下几个角度来学习：</p><ol><li>了解DDL的基础语法，它如何定义数据库和数据表；</li><li>使用DDL定义数据表时，都有哪些约束性；</li><li>使用DDL设计数据库时，都有哪些重要原则。</li></ol><h2 id="ddl的基础语法及设计工具"><a aria-hidden="true" tabindex="-1" href="/blog-base/sql必知必会/02.第一章sql语法基础篇/04#ddl的基础语法及设计工具"><span class="icon icon-link"></span></a>DDL的基础语法及设计工具</h2><p>DDL的英文全称是Data Definition Language，中文是数据定义语言。它定义了数据库的结构和数据表的结构。</p><p>在DDL中，我们常用的功能是增删改，分别对应的命令是CREATE、DROP和ALTER。需要注意的是，在执行DDL的时候，不需要COMMIT，就可以完成执行任务。</p><p>1.<strong>对数据库进行定义</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">CREATE DATABASE nba; // 创建一个名为nba的数据库</span></div><div class="token-line"><span class="token plain">    DROP DATABASE nba; // 删除一个名为nba的数据库</span></div></pre></div><p>2.<strong>对数据表进行定义</strong></p><p>创建表结构的语法是这样的：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">CREATE TABLE [table_name](字段名 数据类型，......)</span></div></pre></div><h3 id="创建表结构"><a aria-hidden="true" tabindex="-1" href="/blog-base/sql必知必会/02.第一章sql语法基础篇/04#创建表结构"><span class="icon icon-link"></span></a>创建表结构</h3><p>比如我们想创建一个球员表，表名为player，里面有两个字段，一个是player_id，它是int类型，另一个player_name字段是<code>varchar(255)</code>类型。这两个字段都不为空，且player_id是递增的。</p><p>那么创建的时候就可以写为：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">CREATE TABLE player  (</span></div><div class="token-line"><span class="token plain">      player_id int(11) NOT NULL AUTO_INCREMENT,</span></div><div class="token-line"><span class="token plain">      player_name varchar(255) NOT NULL</span></div><div class="token-line"><span class="token plain">    );</span></div></pre></div><p>需要注意的是，语句最后以分号（;）作为结束符，最后一个字段的定义结束后没有逗号。数据类型中int(11)代表整数类型，显示长度为11位，括号中的参数11代表的是最大有效显示长度，与类型包含的数值范围大小无关。<code>varchar(255)</code>代表的是最大长度为255的可变字符串类型。<code>NOT NULL</code>表明整个字段不能是空值，是一种数据约束。<code>AUTO_INCREMENT</code>代表主键自动增长。</p><p>实际上，我们通常很少自己写DDL语句，可以使用一些可视化工具来创建和操作数据库和数据表。在这里我推荐使用Navicat，它是一个数据库管理和设计工具，跨平台，支持很多种数据库管理软件，比如MySQL、Oracle、MariaDB等。基本上专栏讲到的数据库软件都可以使用Navicat来管理。</p><p>假如还是针对player这张表，我们想设计以下的字段：</p><p><img src="/images/sql%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A/02.%E7%AC%AC%E4%B8%80%E7%AB%A0SQL%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80%E7%AF%87/resourceimage49dd4925e0c2a1342f4b19d29f0d665afbdd.png" alt=""/><br/>其中player_id是数据表player的主键，且自动增长，也就是player_id会从1开始，然后每次加1。player_id、team_id、player_name 这三个字段均不为空，height字段可以为空。</p><p>按照上面的设计需求，我们可以使用Navicat软件进行设计，如下所示：</p><p><img src="/images/sql%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A/02.%E7%AC%AC%E4%B8%80%E7%AB%A0SQL%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80%E7%AF%87/resourceimageccefcca134810dee3f5de5413482103367ef.png" alt=""/><br/>然后，我们还可以对player_name字段进行索引，索引类型为<code>Unique</code>。使用Navicat设置如下：</p><p><img src="/images/sql%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A/02.%E7%AC%AC%E4%B8%80%E7%AB%A0SQL%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80%E7%AF%87/resourceimage9a5b9a806e7be2f61c64a034ee8a422ea55b.png" alt=""/><br/>这样一张player表就通过可视化工具设计好了。我们可以把这张表导出来，可以看看这张表对应的SQL语句是怎样的。方法是在Navicat左侧用右键选中player这张表，然后选择“转储SQL文件”→“仅结构”，这样就可以看到导出的SQL文件了，代码如下：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">DROP TABLE IF EXISTS `player`;</span></div><div class="token-line"><span class="token plain">    CREATE TABLE `player`  (</span></div><div class="token-line"><span class="token plain">      `player_id` int(11) NOT NULL AUTO_INCREMENT,</span></div><div class="token-line"><span class="token plain">      `team_id` int(11) NOT NULL,</span></div><div class="token-line"><span class="token plain">      `player_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,</span></div><div class="token-line"><span class="token plain">      `height` float(3, 2) NULL DEFAULT 0.00,</span></div><div class="token-line"><span class="token plain">      PRIMARY KEY (`player_id`) USING BTREE,</span></div><div class="token-line"><span class="token plain">      UNIQUE INDEX `player_name`(`player_name`) USING BTREE</span></div><div class="token-line"><span class="token plain">    ) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;</span></div></pre></div><p>你能看到整个SQL文件中的DDL处理，首先先删除player表（如果数据库中存在该表的话），然后再创建player表，里面的数据表和字段都使用了反引号，这是为了避免它们的名称与MySQL保留字段相同，对数据表和字段名称都加上了反引号。</p><p>其中player_name字段的字符编码是utf8，排序规则是<code>utf8_general_ci</code>，代表对大小写不敏感，如果设置为<code>utf8_bin</code>，代表对大小写敏感，还有许多其他排序规则这里不进行介绍。</p><p>因为player_id设置为了主键，因此在DDL中使用<code>PRIMARY KEY</code>进行规定，同时索引方法采用BTREE。</p><p>因为我们对player_name字段进行索引，在设置字段索引时，我们可以设置为<code>UNIQUE INDEX</code>（唯一索引），也可以设置为其他索引方式，比如<code>NORMAL INDEX</code>（普通索引），这里我们采用<code>UNIQUE INDEX</code>。唯一索引和普通索引的区别在于它对字段进行了唯一性的约束。在索引方式上，你可以选择<code>BTREE</code>或者<code>HASH</code>，这里采用了<code>BTREE</code>方法进行索引。我会在后面介绍<code>BTREE</code>和<code>HASH</code>索引方式的区别。</p><p>整个数据表的存储规则采用InnoDB。之前我们简单介绍过InnoDB，它是MySQL5.5版本之后默认的存储引擎。同时，我们将字符编码设置为utf8，排序规则为<code>utf8_general_ci</code>，行格式为<code>Dynamic</code>，就可以定义数据表的最后约定了：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;</span></div></pre></div><p>你能看出可视化工具还是非常方便的，它能直接帮我们将数据库的结构定义转化成SQL语言，方便数据库和数据表结构的导出和导入。不过在使用可视化工具前，你首先需要了解对于DDL的基础语法，至少能清晰地看出来不同字段的定义规则、索引方法，以及主键和外键的定义。</p><h3 id="修改表结构"><a aria-hidden="true" tabindex="-1" href="/blog-base/sql必知必会/02.第一章sql语法基础篇/04#修改表结构"><span class="icon icon-link"></span></a>修改表结构</h3><p>在创建表结构之后，我们还可以对表结构进行修改，虽然直接使用Navicat可以保证重新导出的数据表就是最新的，但你也有必要了解，如何使用DDL命令来完成表结构的修改。</p><p>1.添加字段，比如我在数据表中添加一个age字段，类型为<code>int(11)</code></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">ALTER TABLE player ADD (age int(11));</span></div></pre></div><p>2.修改字段名，将age字段改成<code>player_age</code></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">ALTER TABLE player RENAME COLUMN age to player_age</span></div></pre></div><p>3.修改字段的数据类型，将<code>player_age</code>的数据类型设置为<code>float(3,1)</code></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">ALTER TABLE player MODIFY (player_age float(3,1));</span></div></pre></div><p>4.删除字段, 删除刚才添加的<code>player_age</code>字段</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">ALTER TABLE player DROP COLUMN player_age;</span></div></pre></div><h2 id="数据表的常见约束"><a aria-hidden="true" tabindex="-1" href="/blog-base/sql必知必会/02.第一章sql语法基础篇/04#数据表的常见约束"><span class="icon icon-link"></span></a>数据表的常见约束</h2><p>当我们创建数据表的时候，还会对字段进行约束，约束的目的在于保证RDBMS里面数据的准确性和一致性。下面，我们来看下常见的约束有哪些。</p><p>首先是主键约束。</p><p>主键起的作用是唯一标识一条记录，不能重复，不能为空，即UNIQUE+NOT NULL。一个数据表的主键只能有一个。主键可以是一个字段，也可以由多个字段复合组成。在上面的例子中，我们就把player_id设置为了主键。</p><p>其次还有外键约束。</p><p>外键确保了表与表之间引用的完整性。一个表中的外键对应另一张表的主键。外键可以是重复的，也可以为空。比如player_id在player表中是主键，如果你想设置一个球员比分表即player_score，就可以在player_score中设置player_id为外键，关联到player表中。</p><p>除了对键进行约束外，还有字段约束。</p><p>唯一性约束。</p><p>唯一性约束表明了字段在表中的数值是唯一的，即使我们已经有了主键，还可以对其他字段进行唯一性约束。比如我们在player表中给player_name设置唯一性约束，就表明任何两个球员的姓名不能相同。需要注意的是，唯一性约束和普通索引（NORMAL INDEX）之间是有区别的。唯一性约束相当于创建了一个约束和普通索引，目的是保证字段的正确性，而普通索引只是提升数据检索的速度，并不对字段的唯一性进行约束。</p><p>NOT NULL约束。对字段定义了NOT NULL，即表明该字段不应为空，必须有取值。</p><p>DEFAULT，表明了字段的默认值。如果在插入数据的时候，这个字段没有取值，就设置为默认值。比如我们将身高height字段的取值默认设置为0.00，即<code>DEFAULT 0.00</code>。</p><p>CHECK约束，用来检查特定字段取值范围的有效性，CHECK约束的结果不能为FALSE，比如我们可以对身高height的数值进行CHECK约束，必须≥0，且＜3，即<code>CHECK(height&gt;=0 AND height&lt;3)</code>。</p><h2 id="设计数据表的原则"><a aria-hidden="true" tabindex="-1" href="/blog-base/sql必知必会/02.第一章sql语法基础篇/04#设计数据表的原则"><span class="icon icon-link"></span></a>设计数据表的原则</h2><p>我们在设计数据表的时候，经常会考虑到各种问题，比如：用户都需要什么数据？需要在数据表中保存哪些数据？哪些数据是经常访问的数据？如何提升检索效率？</p><p>如何保证数据表中数据的正确性，当插入、删除、更新的时候该进行怎样的约束检查？</p><p>如何降低数据表的数据冗余度，保证数据表不会因为用户量的增长而迅速扩张？</p><p>如何让负责数据库维护的人员更方便地使用数据库？</p><p>除此以外，我们使用数据库的应用场景也各不相同，可以说针对不同的情况，设计出来的数据表可能千差万别。那么有没有一种设计原则可以让我们来借鉴呢？这里我整理了一个“<strong>三少一多</strong>”原则：</p><p>1.<strong>数据表的个数越少越好</strong></p><p>RDBMS的核心在于对实体和联系的定义，也就是E-R图（Entity Relationship Diagram），数据表越少，证明实体和联系设计得越简洁，既方便理解又方便操作。</p><p>2.<strong>数据表中的字段个数越少越好</strong></p><p>字段个数越多，数据冗余的可能性越大。设置字段个数少的前提是各个字段相互独立，而不是某个字段的取值可以由其他字段计算出来。当然字段个数少是相对的，我们通常会在数据冗余和检索效率中进行平衡。</p><p>3.<strong>数据表中联合主键的字段个数越少越好</strong></p><p>设置主键是为了确定唯一性，当一个字段无法确定唯一性的时候，就需要采用联合主键的方式（也就是用多个字段来定义一个主键）。联合主键中的字段越多，占用的索引空间越大，不仅会加大理解难度，还会增加运行时间和索引空间，因此联合主键的字段个数越少越好。</p><p>4.<strong>使用主键和外键越多越好</strong></p><p>数据库的设计实际上就是定义各种表，以及各种字段之间的关系。这些关系越多，证明这些实体之间的冗余度越低，利用度越高。这样做的好处在于不仅保证了数据表之间的独立性，还能提升相互之间的关联使用率。</p><p>你应该能看出来“三少一多”原则的核心就是简单可复用。简单指的是用更少的表、更少的字段、更少的联合主键字段来完成数据表的设计。可复用则是通过主键、外键的使用来增强数据表之间的复用率。因为一个主键可以理解是一张表的代表。键设计得越多，证明它们之间的利用率越高。</p><h2 id="总结"><a aria-hidden="true" tabindex="-1" href="/blog-base/sql必知必会/02.第一章sql语法基础篇/04#总结"><span class="icon icon-link"></span></a>总结</h2><p>今天我们学习了DDL的基础语法，比如如何对数据库和数据库表进行定义，也了解了使用Navicat可视化管理工具来辅助我们完成数据表的设计，省去了手写SQL的工作量。</p><p>在创建数据表的时候，除了对字段名及数据类型进行定义以外，我们考虑最多的就是关于字段的约束，我介绍了7种常见的约束，它们都是数据表设计中会用到的约束：主键、外键、唯一性、NOT NULL、DEFAULT、CHECK约束等。</p><p>当然，了解了如何操作创建数据表之后，你还需要动脑思考，怎样才能设计出一个好的数据表？设计的原则都有哪些？针对这个，我整理出了“三少一多”原则，在实际使用过程中，你需要灵活掌握，因为这个原则并不是绝对的，有时候我们需要牺牲数据的冗余度来换取数据处理的效率。</p><p><img src="/images/sql%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A/02.%E7%AC%AC%E4%B8%80%E7%AB%A0SQL%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80%E7%AF%87/resourceimage80c180aecedfad59aad06cc08bb9bca721c1.jpg" alt=""/><br/>我们在创建数据表的时候，会对数据表设置主键、外键和索引。你能说下这三者的作用和区别吗？</p><p>欢迎你在评论区写下你的答案，我会和你一起交流，也欢迎把这篇文章分享给你的朋友或者同事。</p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/GGwujun/blog/edit/master/ssrc/sql必知必会/02.第一章SQL语法基础篇/04.md">在 GitHub 上编辑此页<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="最后更新时间：">2023/9/23 16:07:30</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script>
      (function () {
        if (!location.port) {
          (function (i, s, o, g, r, a, m) {
            i["GoogleAnalyticsObject"] = r;
            (i[r] =
              i[r] ||
              function () {
                (i[r].q = i[r].q || []).push(arguments);
              }),
              (i[r].l = 1 * new Date());
            (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m);
          })(
            window,
            document,
            "script",
            "//www.google-analytics.com/analytics.js",
            "ga"
          );
          ga("create", "UA-149864185-1", "auto");
          ga("send", "pageview");
        }
      })();
    </script>
    <script src="/blog-base/umi.js"></script>
  </body>
</html>
